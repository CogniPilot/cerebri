# Copyright 2025 CogniPilot Foundation
# SPDX-License-Identifier: Apache-2.0

description: |
  NXP FlexIO UART controller.

  Implements a software UART using the FlexIO peripheral, which can use
  almost any GPIO pin. Supports half-duplex single-wire mode for protocols
  like AM32 ESC bootloader communication.

  Each FlexIO timer/shifter pair provides one UART channel.

compatible: "nxp,flexio-uart"

include: [pinctrl-device.yaml, base.yaml]

properties:
  pinctrl-0:
    required: true

  pinctrl-names:
    required: true

  current-speed:
    type: int
    default: 19200
    description: |
      Baud rate in bits per second. Default is 19200 for AM32 ESC
      bootloader compatibility.

child-binding:
  description: |
    FlexIO UART channel configuration.

  properties:
    pin-id:
      type: int
      required: true
      description: |
        FlexIO data pin number. Should be populated with number 'n'
        specified in the FXIO_D<n> data pin of your board's schematic.
